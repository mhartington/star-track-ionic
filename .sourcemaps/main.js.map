{"version":3,"sources":["../../src/providers/color-thief/color-thief.ts","../../color-thief.js","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/app/app.component.ngfactory.ts","../../src/app/app.component.ts","../../app.component.js","../../src/app/app.module.ts","../../src/app/app.module.ngfactory.ts","../../src/app/main.ts"],"names":["ColorThiefProvider","prototype","getPalette","sourceImage","colorCount","quality","offset","r","g","b","image","CanvasImage","pixels","getImageData","data","pixelCount","getPixelCount","pixelArray","i","push","cmap","MMCQ","quantize","palette","removeCanvas","getColor","this","getColorFromUrl","imageUrl","_this","Promise","resolve","reject","Image","crossOrigin","dominantColor","addEventListener","src","bind","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","pv","map","array","f","o","d","call","slice","naturalOrder","a","sum","reduce","p","max","Math","apply","getColorIndex","sigbits","getHisto","index","rval","gval","bval","histosize","histo","Array","forEach","pixel","rshift","vboxFromPixels","rmin","rmax","gmin","gmax","bmin","bmax","VBox","medianCutApply","vbox","doCut","color","left","right","vbox1","vbox2","d2","dim1","dim2","count2","partialsum","total","copy","min","lookaheadsum","count","rw","r2","r1","gw","g2","g1","bw","b2","b1","maxw","j","k","maxIterations","fractByPopulations","PQueue","comparator","contents","sorted","sort","peek","undefined","length","pop","size","debug","volume","force","_volume","_count_set","npix","_count","avg","_avg","ntot","mult","rsum","gsum","bsum","hval","histoindex","console","log","contains","CMap","vboxes","vb","nearest","d1","pColor","sqrt","pow","forcebw","lowest","idx","highest","maxcolors","iter","lh","target","ncolors","niters","nColors","pq","pq2","canvas","document","createElement","context","getContext","body","appendChild","width","height","drawImage","clear","clearRect","update","imageData","putImageData","parentNode","removeChild","webpackEmptyAsyncContext","req","then","Error","keys","module","exports","id","webpackAsyncContext","ids","__webpack_require__","e","../pages/menu-list/menu-list.module.ngfactory","../pages/menu/menu.module.ngfactory","../pages/search/search.module.ngfactory","../pages/track-detail/track-detail.module.ngfactory","View_MyApp_0","_l","core_es5","nav_ngfactory","split_pane","nav","view_controller","nav_controller","app","config","platform","gesture_controller","transition_controller","deep_linker","dom_controller","root","_ck","_v","app_component_MyApp","MyApp","plt","keyboard","statusbar","ready","disableScroll","hideKeyboardAccessoryBar","overlaysWebView","is","styleDefault","styleLightContent","tslib_es6","template","_a","ionic_angular","_b","_c","status_bar","app_module_AppModule","AppModule","declarations","imports","http_es5","platform_browser_es5","forRoot","links","loadChildren","name","segment","priority","defaultHistory","es2015","bootstrap","entryComponents","providers","splash_screen","music_controls","color_thief","styles_MyApp","RenderType_MyApp","encapsulation","styles","MyAppNgFactory","AppModuleNgFactory","app_root","action_sheet_component_ngfactory","alert_component_ngfactory","app_root_ngfactory","loading_component_ngfactory","modal_component_ngfactory","picker_component_ngfactory","popover_component_ngfactory","select_popover_component_ngfactory","toast_component_ngfactory","common_es5","p0_0","gesture_config","p1_0","p2_0","p2_1","forms_es5","action_sheet_controller","alert_controller","events","util_form","haptic","platform_keyboard","loading_controller","ionic_angular_module","url_serializer","module_loader","modal_controller","picker_controller","popover_controller","tap_click","toast_controller","storage","platform_registry","menu_controller","ng_module_loader","p0_1","p3_0","p3_1","p3_2","p3_3","p3_4","p4_0","p4_1","p4_2","p4_3","mode_registry","bootstrapModuleFactory"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n@Injectable()\nexport class ColorThiefProvider {\n  constructor() { }\n\n  // Adaptation of ColorThef : http://lokeshdhakar.com/projects/color-thief/\n  getPalette(sourceImage, colorCount?: number, quality?: number) {\n    if (\n      typeof colorCount === 'undefined' ||\n      colorCount < 2 ||\n      colorCount > 256\n    ) {\n      colorCount = 10;\n    }\n    if (typeof quality === 'undefined' || quality < 1) {\n      quality = 10;\n    }\n\n    // Create custom CanvasImage object\n    var image = new CanvasImage(sourceImage);\n    var imageData = image.getImageData();\n    var pixels = imageData.data;\n    var pixelCount = image.getPixelCount();\n\n    // Store the RGB values in an array format suitable for quantize function\n    var pixelArray = [];\n    for (var i = 0, offset, r, g, b, a; i < pixelCount; i = i + quality) {\n      offset = i * 4;\n      r = pixels[offset + 0];\n      g = pixels[offset + 1];\n      b = pixels[offset + 2];\n      a = pixels[offset + 3];\n      // If pixel is mostly opaque and not white\n      if (a >= 125) {\n        if (!(r > 250 && g > 250 && b > 250)) {\n          pixelArray.push([r, g, b]);\n        }\n      }\n    }\n\n    // Send array to quantize function which clusters values\n    // using median cut algorithm\n    var cmap = MMCQ.quantize(pixelArray, colorCount);\n    var palette = cmap ? cmap.palette() : null;\n\n    // Clean up\n    image.removeCanvas();\n\n    return palette;\n  }\n  getColor(sourceImage, quality = 10) {\n    var palette = this.getPalette(sourceImage, 5, quality);\n    var dominantColor = palette[0];\n    return dominantColor;\n  }\n  getColorFromUrl(imageUrl, quality = 10) {\n    return new Promise((resolve, reject) => {\n      let sourceImage = new Image()\n      sourceImage.crossOrigin = \"Anonymous\"\n      let dominantColor, palette;\n      sourceImage.addEventListener('load', () => {\n        palette = this.getPalette(sourceImage, 5, quality);\n        dominantColor = palette[0];\n        resolve({ dominantColor, imageUrl });\n      });\n      sourceImage.src = imageUrl\n      sourceImage.addEventListener('error', reject.bind(this))\n    })\n  };\n}\n\n\n\nvar pv = {\n  map(array, f?) {\n    const o = {};\n    return f\n      ? array.map((d, i) => {\n        o['index'] = i;\n        return f.call(o, d);\n      })\n      : array.slice();\n  },\n  naturalOrder(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n  },\n  sum(array, f?) {\n    const o = {};\n    return array.reduce(\n      f\n        ? (p, d, i) => {\n          o['index'] = i;\n          return p + f.call(o, d);\n        }\n        : (p, d) => p + d,\n      0\n    );\n  },\n  max(array, f?) {\n    return Math.max.apply(null, f ? pv.map(array, f) : array);\n  }\n};\n\n\nconst MMCQ = (() => {\n  // private constants\n  const sigbits = 5;\n\n  const rshift = 8 - sigbits;\n  const maxIterations = 1000;\n  const fractByPopulations = 0.75;\n\n  // get reduced-space color index for a pixel\n  function getColorIndex(r, g, b) {\n    return (r << (2 * sigbits)) + (g << sigbits) + b;\n  }\n\n  // Simple priority queue\n  class PQueue {\n    public contents = [];\n    public sorted = false;\n    constructor(public comparator) {\n\n    }\n\n    sort() {\n      this.contents.sort(this.comparator);\n      this.sorted = true;\n    }\n    push(o) {\n      this.contents.push(o);\n      this.sorted = false;\n    }\n    peek(index) {\n      if (!this.sorted) this.sort();\n      if (index === undefined) index = this.contents.length - 1;\n      return this.contents[index];\n    }\n    pop() {\n      if (!this.sorted) this.sort();\n      return this.contents.pop();\n    }\n    size() {\n      return this.contents.length;\n    }\n    map(f) {\n      return this.contents.map(f);\n    }\n    debug() {\n      if (!this.sorted) this.sort();\n      return this.contents;\n    }\n  }\n\n  // 3d color space box\n  class VBox {\n    r1;\n    r2;\n    g1;\n    g2;\n    b1;\n    b2;\n    histo;\n    _avg;\n    _count_set;\n    _count;\n    _volume;\n    constructor(r1, r2, g1, g2, b1, b2, histo) {\n      this.r1 = r1;\n      this.r2 = r2;\n      this.g1 = g1;\n      this.g2 = g2;\n      this.b1 = b1;\n      this.b2 = b2;\n      this.histo = histo;\n    }\n\n    volume(force) {\n      if (!this._volume || force) {\n        this._volume =\n          (this.r2 - this.r1 + 1) *\n          (this.g2 - this.g1 + 1) *\n          (this.b2 - this.b1 + 1);\n      }\n      return this._volume;\n    }\n\n    count(force) {\n      if (!this._count_set || force) {\n        let npix = 0;\n        let i;\n        let j;\n        let k;\n        for (i = this.r1; i <= this.r2; i++) {\n          for (j = this.g1; j <= this.g2; j++) {\n            for (k = this.b1; k <= this.b2; k++) {\n              let index = getColorIndex(i, j, k);\n              npix += this.histo[index] || 0;\n            }\n          }\n        }\n        this._count = npix;\n        this._count_set = true;\n      }\n      return this._count;\n    }\n\n    copy() {\n      return new VBox(\n        this.r1,\n        this.r2,\n        this.g1,\n        this.g2,\n        this.b1,\n        this.b2,\n        this.histo\n      );\n    }\n\n    avg(force) {\n      if (!this._avg || force) {\n        let ntot = 0;\n        const mult = 1 << (8 - sigbits);\n        let rsum = 0;\n        let gsum = 0;\n        let bsum = 0;\n        let hval;\n        let i;\n        let j;\n        let k;\n        let histoindex;\n        for (i = this.r1; i <= this.r2; i++) {\n          for (j = this.g1; j <= this.g2; j++) {\n            for (k = this.b1; k <= this.b2; k++) {\n              histoindex = getColorIndex(i, j, k);\n              hval = this.histo[histoindex] || 0;\n              ntot += hval;\n              rsum += hval * (i + 0.5) * mult;\n              gsum += hval * (j + 0.5) * mult;\n              bsum += hval * (k + 0.5) * mult;\n            }\n          }\n        }\n        if (ntot) {\n          this._avg = [~~(rsum / ntot), ~~(gsum / ntot), ~~(bsum / ntot)];\n        } else {\n          console.log('empty box');\n          this._avg = [\n            ~~(mult * (this.r1 + this.r2 + 1) / 2),\n            ~~(mult * (this.g1 + this.g2 + 1) / 2),\n            ~~(mult * (this.b1 + this.b2 + 1) / 2)\n          ];\n        }\n      }\n      return this._avg;\n    }\n\n    contains(pixel) {\n      const rval = pixel[0] >> rshift;\n      let gval = pixel[1] >> rshift;\n      let bval = pixel[2] >> rshift;\n      return (\n        rval >= this.r1 &&\n        rval <= this.r2 &&\n        gval >= this.g1 &&\n        rval <= this.g2 &&\n        bval >= this.b1 &&\n        rval <= this.b2\n      );\n    }\n  }\n\n  // Color map\n  class CMap {\n    vboxes;\n    constructor() {\n      this.vboxes = new PQueue((a, b) =>\n        pv.naturalOrder(\n          a.vbox.count() * a.vbox.volume(),\n          b.vbox.count() * b.vbox.volume()\n        )\n      );\n    }\n\n    push(vbox) {\n      this.vboxes.push({\n        vbox,\n        color: vbox.avg()\n      });\n    }\n\n    palette() {\n      return this.vboxes.map(vb => vb.color);\n    }\n\n    size() {\n      return this.vboxes.size();\n    }\n\n    map(color) {\n      const vboxes = this.vboxes;\n      for (let i = 0; i < vboxes.size(); i++) {\n        if (vboxes.peek(i).vbox.contains(color)) {\n          return vboxes.peek(i).color;\n        }\n      }\n      return this.nearest(color);\n    }\n\n    nearest(color) {\n      const vboxes = this.vboxes;\n      let d1;\n      let d2;\n      let pColor;\n      for (let i = 0; i < vboxes.size(); i++) {\n        d2 = Math.sqrt(\n          (color[0] - vboxes.peek(i).color[0]) ** 2 +\n          (color[1] - vboxes.peek(i).color[1]) ** 2 +\n          (color[1] - vboxes.peek(i).color[1]) ** 2\n        );\n        if (d2 < d1 || d1 === undefined) {\n          d1 = d2;\n          pColor = vboxes.peek(i).color;\n        }\n      }\n      return pColor;\n    }\n\n    forcebw() {\n      // XXX: won't  work yet\n      const vboxes = this.vboxes;\n      vboxes.sort((a, b) => pv.naturalOrder(pv.sum(a.color), pv.sum(b.color)));\n\n      // force darkest color to black if everything < 5\n      const lowest = vboxes[0].color;\n      if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n        vboxes[0].color = [0, 0, 0];\n\n      // force lightest color to white if everything > 251\n      const idx = vboxes.length - 1;\n\n      const highest = vboxes[idx].color;\n      if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n        vboxes[idx].color = [255, 255, 255];\n    }\n  }\n\n  // histo (1-d array, giving the number of pixels in\n  // each quantized region of color space), or null on error\n  function getHisto(pixels) {\n    const histosize = 1 << (3 * sigbits);\n    const histo = new Array(histosize);\n    let index;\n    let rval;\n    let gval;\n    let bval;\n    pixels.forEach(pixel => {\n      rval = pixel[0] >> rshift;\n      gval = pixel[1] >> rshift;\n      bval = pixel[2] >> rshift;\n      index = getColorIndex(rval, gval, bval);\n      histo[index] = (histo[index] || 0) + 1;\n    });\n    return histo;\n  }\n\n  function vboxFromPixels(pixels, histo) {\n    let rmin = 1000000;\n    let rmax = 0;\n    let gmin = 1000000;\n    let gmax = 0;\n    let bmin = 1000000;\n    let bmax = 0;\n    let rval;\n    let gval;\n    let bval;\n    // find min/max\n    pixels.forEach(pixel => {\n      rval = pixel[0] >> rshift;\n      gval = pixel[1] >> rshift;\n      bval = pixel[2] >> rshift;\n      if (rval < rmin) rmin = rval;\n      else if (rval > rmax) rmax = rval;\n      if (gval < gmin) gmin = gval;\n      else if (gval > gmax) gmax = gval;\n      if (bval < bmin) bmin = bval;\n      else if (bval > bmax) bmax = bval;\n    });\n    return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n  }\n\n  function medianCutApply(histo, vbox) {\n    if (!vbox.count()) return;\n\n    const rw = vbox.r2 - vbox.r1 + 1;\n    const gw = vbox.g2 - vbox.g1 + 1;\n    const bw = vbox.b2 - vbox.b1 + 1;\n    const maxw = pv.max([rw, gw, bw]);\n    // only one pixel, no split\n    if (vbox.count() == 1) {\n      return [vbox.copy()];\n    }\n\n    /* Find the partial sum arrays along the selected axis. */\n    let total = 0;\n\n    const partialsum = [];\n    const lookaheadsum = [];\n    let i;\n    let j;\n    let k;\n    let sum;\n    let index;\n    if (maxw == rw) {\n      for (i = vbox.r1; i <= vbox.r2; i++) {\n        sum = 0;\n        for (j = vbox.g1; j <= vbox.g2; j++) {\n          for (k = vbox.b1; k <= vbox.b2; k++) {\n            index = getColorIndex(i, j, k);\n            sum += histo[index] || 0;\n          }\n        }\n        total += sum;\n        partialsum[i] = total;\n      }\n    } else if (maxw == gw) {\n      for (i = vbox.g1; i <= vbox.g2; i++) {\n        sum = 0;\n        for (j = vbox.r1; j <= vbox.r2; j++) {\n          for (k = vbox.b1; k <= vbox.b2; k++) {\n            index = getColorIndex(j, i, k);\n            sum += histo[index] || 0;\n          }\n        }\n        total += sum;\n        partialsum[i] = total;\n      }\n    } else {\n      /* maxw == bw */\n      for (i = vbox.b1; i <= vbox.b2; i++) {\n        sum = 0;\n        for (j = vbox.r1; j <= vbox.r2; j++) {\n          for (k = vbox.g1; k <= vbox.g2; k++) {\n            index = getColorIndex(j, k, i);\n            sum += histo[index] || 0;\n          }\n        }\n        total += sum;\n        partialsum[i] = total;\n      }\n    }\n    partialsum.forEach((d, i) => {\n      lookaheadsum[i] = total - d;\n    });\n    function doCut(color) {\n      const dim1 = `${color}1`;\n      const dim2 = `${color}2`;\n      let left;\n      let right;\n      let vbox1;\n      let vbox2;\n      let d2;\n      let count2 = 0;\n      for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n        if (partialsum[i] > total / 2) {\n          vbox1 = vbox.copy();\n          vbox2 = vbox.copy();\n          left = i - vbox[dim1];\n          right = vbox[dim2] - i;\n          if (left <= right) d2 = Math.min(vbox[dim2] - 1, ~~(i + right / 2));\n          else d2 = Math.max(vbox[dim1], ~~(i - 1 - left / 2));\n          // avoid 0-count boxes\n          while (!partialsum[d2]) d2++;\n          count2 = lookaheadsum[d2];\n          while (!count2 && partialsum[d2 - 1]) count2 = lookaheadsum[--d2];\n          // set dimensions\n          vbox1[dim2] = d2;\n          vbox2[dim1] = vbox1[dim2] + 1;\n          return [vbox1, vbox2];\n        }\n      }\n    }\n    // determine the cut planes\n    return maxw == rw ? doCut('r') : maxw == gw ? doCut('g') : doCut('b');\n  }\n\n  function quantize(pixels, maxcolors) {\n    // short-circuit\n    if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n      console.log('wrong number of maxcolors');\n      return false;\n    }\n\n    // XXX: check color content and convert to grayscale if insufficient\n\n    const histo = getHisto(pixels);\n\n    // const histosize = 1 << (3 * sigbits);\n\n    // check that we aren't below maxcolors already\n    let nColors = 0;\n    histo.forEach(() => {\n      nColors++;\n    });\n    if (nColors <= maxcolors) {\n      // XXX: generate the new colors from the histo and return\n    }\n\n    // get the beginning vbox from the colors\n    const vbox = vboxFromPixels(pixels, histo);\n\n    const pq = new PQueue((a, b) => pv.naturalOrder(a.count(), b.count()));\n    pq.push(vbox);\n\n    // inner function to do the iteration\n    function iter(lh, target) {\n      let ncolors = 1;\n      let niters = 0;\n      let vbox;\n      while (niters < maxIterations) {\n        vbox = lh.pop();\n        if (!vbox.count()) {\n          /* just put it back */\n          lh.push(vbox);\n          niters++;\n          continue;\n        }\n\n        // do the cut\n        const vboxes = medianCutApply(histo, vbox);\n\n        const vbox1 = vboxes[0];\n        const vbox2 = vboxes[1];\n\n        if (!vbox1) {\n          console.log(\"vbox1 not defined; shouldn't happen!\");\n          return;\n        }\n        lh.push(vbox1);\n        if (vbox2) {\n          /* vbox2 can be null */\n          lh.push(vbox2);\n          ncolors++;\n        }\n        if (ncolors >= target) return;\n        if (niters++ > maxIterations) {\n          console.log('infinite loop; perhaps too few pixels!');\n          return;\n        }\n      }\n    }\n\n    // first set of colors, sorted by population\n    iter(pq, fractByPopulations * maxcolors);\n    // console.log(pq.size(), pq.debug().length, pq.debug().slice());\n\n    // Re-sort by the product of pixel occupancy times the size in color space.\n    const pq2 = new PQueue((a, b) =>\n      pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume())\n    );\n    while (pq.size()) {\n      pq2.push(pq.pop());\n    }\n\n    // next set - generate the median cuts using the (npix * vol) sorting.\n    iter(pq2, maxcolors - pq2.size());\n\n    // calculate the actual colors\n    const cmap = new CMap();\n    while (pq2.size()) {\n      cmap.push(pq2.pop());\n    }\n\n    return cmap;\n  }\n\n  return {\n    quantize\n  };\n})();\nclass CanvasImage {\n  canvas;\n  context;\n  width;\n  height;\n  constructor(image: HTMLImageElement) {\n\n    this.canvas = document.createElement('canvas');\n    this.context = this.canvas.getContext('2d');\n    document.body.appendChild(this.canvas);\n    this.width = this.canvas.width = image.width;\n    this.height = this.canvas.height = image.height;\n    this.context.drawImage(image, 0, 0, this.width, this.height);\n  }\n\n  clear() {\n    this.context.clearRect(0, 0, this.width, this.height);\n  }\n\n  update(imageData) {\n    this.context.putImageData(imageData, 0, 0);\n  }\n\n  getPixelCount() {\n    return this.width * this.height;\n  }\n\n  getImageData() {\n    return this.context.getImageData(0, 0, this.width, this.height);\n  }\n\n  removeCanvas() {\n    this.canvas.parentNode.removeChild(this.canvas);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/color-thief/color-thief.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\nvar ColorThiefProvider = /** @class */ (function () {\n    function ColorThiefProvider() {\n    }\n    // Adaptation of ColorThef : http://lokeshdhakar.com/projects/color-thief/\n    ColorThiefProvider.prototype.getPalette = function (sourceImage, colorCount, quality) {\n        if (typeof colorCount === 'undefined' ||\n            colorCount < 2 ||\n            colorCount > 256) {\n            colorCount = 10;\n        }\n        if (typeof quality === 'undefined' || quality < 1) {\n            quality = 10;\n        }\n        // Create custom CanvasImage object\n        var image = new CanvasImage(sourceImage);\n        var imageData = image.getImageData();\n        var pixels = imageData.data;\n        var pixelCount = image.getPixelCount();\n        // Store the RGB values in an array format suitable for quantize function\n        var pixelArray = [];\n        for (var i = 0, offset, r, g, b, a; i < pixelCount; i = i + quality) {\n            offset = i * 4;\n            r = pixels[offset + 0];\n            g = pixels[offset + 1];\n            b = pixels[offset + 2];\n            a = pixels[offset + 3];\n            // If pixel is mostly opaque and not white\n            if (a >= 125) {\n                if (!(r > 250 && g > 250 && b > 250)) {\n                    pixelArray.push([r, g, b]);\n                }\n            }\n        }\n        // Send array to quantize function which clusters values\n        // using median cut algorithm\n        var cmap = MMCQ.quantize(pixelArray, colorCount);\n        var palette = cmap ? cmap.palette() : null;\n        // Clean up\n        image.removeCanvas();\n        return palette;\n    };\n    ColorThiefProvider.prototype.getColor = function (sourceImage, quality) {\n        if (quality === void 0) { quality = 10; }\n        var palette = this.getPalette(sourceImage, 5, quality);\n        var dominantColor = palette[0];\n        return dominantColor;\n    };\n    ColorThiefProvider.prototype.getColorFromUrl = function (imageUrl, quality) {\n        var _this = this;\n        if (quality === void 0) { quality = 10; }\n        return new Promise(function (resolve, reject) {\n            var sourceImage = new Image();\n            sourceImage.crossOrigin = \"Anonymous\";\n            var dominantColor, palette;\n            sourceImage.addEventListener('load', function () {\n                palette = _this.getPalette(sourceImage, 5, quality);\n                dominantColor = palette[0];\n                resolve({ dominantColor: dominantColor, imageUrl: imageUrl });\n            });\n            sourceImage.src = imageUrl;\n            sourceImage.addEventListener('error', reject.bind(_this));\n        });\n    };\n    ;\n    ColorThiefProvider = __decorate([\n        Injectable(),\n        __metadata(\"design:paramtypes\", [])\n    ], ColorThiefProvider);\n    return ColorThiefProvider;\n}());\nexport { ColorThiefProvider };\nvar pv = {\n    map: function (array, f) {\n        var o = {};\n        return f\n            ? array.map(function (d, i) {\n                o['index'] = i;\n                return f.call(o, d);\n            })\n            : array.slice();\n    },\n    naturalOrder: function (a, b) {\n        return a < b ? -1 : a > b ? 1 : 0;\n    },\n    sum: function (array, f) {\n        var o = {};\n        return array.reduce(f\n            ? function (p, d, i) {\n                o['index'] = i;\n                return p + f.call(o, d);\n            }\n            : function (p, d) { return p + d; }, 0);\n    },\n    max: function (array, f) {\n        return Math.max.apply(null, f ? pv.map(array, f) : array);\n    }\n};\nvar MMCQ = (function () {\n    // private constants\n    var sigbits = 5;\n    var rshift = 8 - sigbits;\n    var maxIterations = 1000;\n    var fractByPopulations = 0.75;\n    // get reduced-space color index for a pixel\n    function getColorIndex(r, g, b) {\n        return (r << (2 * sigbits)) + (g << sigbits) + b;\n    }\n    // Simple priority queue\n    var PQueue = /** @class */ (function () {\n        function PQueue(comparator) {\n            this.comparator = comparator;\n            this.contents = [];\n            this.sorted = false;\n        }\n        PQueue.prototype.sort = function () {\n            this.contents.sort(this.comparator);\n            this.sorted = true;\n        };\n        PQueue.prototype.push = function (o) {\n            this.contents.push(o);\n            this.sorted = false;\n        };\n        PQueue.prototype.peek = function (index) {\n            if (!this.sorted)\n                this.sort();\n            if (index === undefined)\n                index = this.contents.length - 1;\n            return this.contents[index];\n        };\n        PQueue.prototype.pop = function () {\n            if (!this.sorted)\n                this.sort();\n            return this.contents.pop();\n        };\n        PQueue.prototype.size = function () {\n            return this.contents.length;\n        };\n        PQueue.prototype.map = function (f) {\n            return this.contents.map(f);\n        };\n        PQueue.prototype.debug = function () {\n            if (!this.sorted)\n                this.sort();\n            return this.contents;\n        };\n        return PQueue;\n    }());\n    // 3d color space box\n    var VBox = /** @class */ (function () {\n        function VBox(r1, r2, g1, g2, b1, b2, histo) {\n            this.r1 = r1;\n            this.r2 = r2;\n            this.g1 = g1;\n            this.g2 = g2;\n            this.b1 = b1;\n            this.b2 = b2;\n            this.histo = histo;\n        }\n        VBox.prototype.volume = function (force) {\n            if (!this._volume || force) {\n                this._volume =\n                    (this.r2 - this.r1 + 1) *\n                        (this.g2 - this.g1 + 1) *\n                        (this.b2 - this.b1 + 1);\n            }\n            return this._volume;\n        };\n        VBox.prototype.count = function (force) {\n            if (!this._count_set || force) {\n                var npix = 0;\n                var i = void 0;\n                var j = void 0;\n                var k = void 0;\n                for (i = this.r1; i <= this.r2; i++) {\n                    for (j = this.g1; j <= this.g2; j++) {\n                        for (k = this.b1; k <= this.b2; k++) {\n                            var index = getColorIndex(i, j, k);\n                            npix += this.histo[index] || 0;\n                        }\n                    }\n                }\n                this._count = npix;\n                this._count_set = true;\n            }\n            return this._count;\n        };\n        VBox.prototype.copy = function () {\n            return new VBox(this.r1, this.r2, this.g1, this.g2, this.b1, this.b2, this.histo);\n        };\n        VBox.prototype.avg = function (force) {\n            if (!this._avg || force) {\n                var ntot = 0;\n                var mult = 1 << (8 - sigbits);\n                var rsum = 0;\n                var gsum = 0;\n                var bsum = 0;\n                var hval = void 0;\n                var i = void 0;\n                var j = void 0;\n                var k = void 0;\n                var histoindex = void 0;\n                for (i = this.r1; i <= this.r2; i++) {\n                    for (j = this.g1; j <= this.g2; j++) {\n                        for (k = this.b1; k <= this.b2; k++) {\n                            histoindex = getColorIndex(i, j, k);\n                            hval = this.histo[histoindex] || 0;\n                            ntot += hval;\n                            rsum += hval * (i + 0.5) * mult;\n                            gsum += hval * (j + 0.5) * mult;\n                            bsum += hval * (k + 0.5) * mult;\n                        }\n                    }\n                }\n                if (ntot) {\n                    this._avg = [~~(rsum / ntot), ~~(gsum / ntot), ~~(bsum / ntot)];\n                }\n                else {\n                    console.log('empty box');\n                    this._avg = [\n                        ~~(mult * (this.r1 + this.r2 + 1) / 2),\n                        ~~(mult * (this.g1 + this.g2 + 1) / 2),\n                        ~~(mult * (this.b1 + this.b2 + 1) / 2)\n                    ];\n                }\n            }\n            return this._avg;\n        };\n        VBox.prototype.contains = function (pixel) {\n            var rval = pixel[0] >> rshift;\n            var gval = pixel[1] >> rshift;\n            var bval = pixel[2] >> rshift;\n            return (rval >= this.r1 &&\n                rval <= this.r2 &&\n                gval >= this.g1 &&\n                rval <= this.g2 &&\n                bval >= this.b1 &&\n                rval <= this.b2);\n        };\n        return VBox;\n    }());\n    // Color map\n    var CMap = /** @class */ (function () {\n        function CMap() {\n            this.vboxes = new PQueue(function (a, b) {\n                return pv.naturalOrder(a.vbox.count() * a.vbox.volume(), b.vbox.count() * b.vbox.volume());\n            });\n        }\n        CMap.prototype.push = function (vbox) {\n            this.vboxes.push({\n                vbox: vbox,\n                color: vbox.avg()\n            });\n        };\n        CMap.prototype.palette = function () {\n            return this.vboxes.map(function (vb) { return vb.color; });\n        };\n        CMap.prototype.size = function () {\n            return this.vboxes.size();\n        };\n        CMap.prototype.map = function (color) {\n            var vboxes = this.vboxes;\n            for (var i = 0; i < vboxes.size(); i++) {\n                if (vboxes.peek(i).vbox.contains(color)) {\n                    return vboxes.peek(i).color;\n                }\n            }\n            return this.nearest(color);\n        };\n        CMap.prototype.nearest = function (color) {\n            var vboxes = this.vboxes;\n            var d1;\n            var d2;\n            var pColor;\n            for (var i = 0; i < vboxes.size(); i++) {\n                d2 = Math.sqrt(Math.pow((color[0] - vboxes.peek(i).color[0]), 2) +\n                    Math.pow((color[1] - vboxes.peek(i).color[1]), 2) +\n                    Math.pow((color[1] - vboxes.peek(i).color[1]), 2));\n                if (d2 < d1 || d1 === undefined) {\n                    d1 = d2;\n                    pColor = vboxes.peek(i).color;\n                }\n            }\n            return pColor;\n        };\n        CMap.prototype.forcebw = function () {\n            // XXX: won't  work yet\n            var vboxes = this.vboxes;\n            vboxes.sort(function (a, b) { return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color)); });\n            // force darkest color to black if everything < 5\n            var lowest = vboxes[0].color;\n            if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n                vboxes[0].color = [0, 0, 0];\n            // force lightest color to white if everything > 251\n            var idx = vboxes.length - 1;\n            var highest = vboxes[idx].color;\n            if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n                vboxes[idx].color = [255, 255, 255];\n        };\n        return CMap;\n    }());\n    // histo (1-d array, giving the number of pixels in\n    // each quantized region of color space), or null on error\n    function getHisto(pixels) {\n        var histosize = 1 << (3 * sigbits);\n        var histo = new Array(histosize);\n        var index;\n        var rval;\n        var gval;\n        var bval;\n        pixels.forEach(function (pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            index = getColorIndex(rval, gval, bval);\n            histo[index] = (histo[index] || 0) + 1;\n        });\n        return histo;\n    }\n    function vboxFromPixels(pixels, histo) {\n        var rmin = 1000000;\n        var rmax = 0;\n        var gmin = 1000000;\n        var gmax = 0;\n        var bmin = 1000000;\n        var bmax = 0;\n        var rval;\n        var gval;\n        var bval;\n        // find min/max\n        pixels.forEach(function (pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            if (rval < rmin)\n                rmin = rval;\n            else if (rval > rmax)\n                rmax = rval;\n            if (gval < gmin)\n                gmin = gval;\n            else if (gval > gmax)\n                gmax = gval;\n            if (bval < bmin)\n                bmin = bval;\n            else if (bval > bmax)\n                bmax = bval;\n        });\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n    }\n    function medianCutApply(histo, vbox) {\n        if (!vbox.count())\n            return;\n        var rw = vbox.r2 - vbox.r1 + 1;\n        var gw = vbox.g2 - vbox.g1 + 1;\n        var bw = vbox.b2 - vbox.b1 + 1;\n        var maxw = pv.max([rw, gw, bw]);\n        // only one pixel, no split\n        if (vbox.count() == 1) {\n            return [vbox.copy()];\n        }\n        /* Find the partial sum arrays along the selected axis. */\n        var total = 0;\n        var partialsum = [];\n        var lookaheadsum = [];\n        var i;\n        var j;\n        var k;\n        var sum;\n        var index;\n        if (maxw == rw) {\n            for (i = vbox.r1; i <= vbox.r2; i++) {\n                sum = 0;\n                for (j = vbox.g1; j <= vbox.g2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(i, j, k);\n                        sum += histo[index] || 0;\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        else if (maxw == gw) {\n            for (i = vbox.g1; i <= vbox.g2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(j, i, k);\n                        sum += histo[index] || 0;\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        else {\n            /* maxw == bw */\n            for (i = vbox.b1; i <= vbox.b2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.g1; k <= vbox.g2; k++) {\n                        index = getColorIndex(j, k, i);\n                        sum += histo[index] || 0;\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        partialsum.forEach(function (d, i) {\n            lookaheadsum[i] = total - d;\n        });\n        function doCut(color) {\n            var dim1 = color + \"1\";\n            var dim2 = color + \"2\";\n            var left;\n            var right;\n            var vbox1;\n            var vbox2;\n            var d2;\n            var count2 = 0;\n            for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n                if (partialsum[i] > total / 2) {\n                    vbox1 = vbox.copy();\n                    vbox2 = vbox.copy();\n                    left = i - vbox[dim1];\n                    right = vbox[dim2] - i;\n                    if (left <= right)\n                        d2 = Math.min(vbox[dim2] - 1, ~~(i + right / 2));\n                    else\n                        d2 = Math.max(vbox[dim1], ~~(i - 1 - left / 2));\n                    // avoid 0-count boxes\n                    while (!partialsum[d2])\n                        d2++;\n                    count2 = lookaheadsum[d2];\n                    while (!count2 && partialsum[d2 - 1])\n                        count2 = lookaheadsum[--d2];\n                    // set dimensions\n                    vbox1[dim2] = d2;\n                    vbox2[dim1] = vbox1[dim2] + 1;\n                    return [vbox1, vbox2];\n                }\n            }\n        }\n        // determine the cut planes\n        return maxw == rw ? doCut('r') : maxw == gw ? doCut('g') : doCut('b');\n    }\n    function quantize(pixels, maxcolors) {\n        // short-circuit\n        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n            console.log('wrong number of maxcolors');\n            return false;\n        }\n        // XXX: check color content and convert to grayscale if insufficient\n        var histo = getHisto(pixels);\n        // const histosize = 1 << (3 * sigbits);\n        // check that we aren't below maxcolors already\n        var nColors = 0;\n        histo.forEach(function () {\n            nColors++;\n        });\n        if (nColors <= maxcolors) {\n            // XXX: generate the new colors from the histo and return\n        }\n        // get the beginning vbox from the colors\n        var vbox = vboxFromPixels(pixels, histo);\n        var pq = new PQueue(function (a, b) { return pv.naturalOrder(a.count(), b.count()); });\n        pq.push(vbox);\n        // inner function to do the iteration\n        function iter(lh, target) {\n            var ncolors = 1;\n            var niters = 0;\n            var vbox;\n            while (niters < maxIterations) {\n                vbox = lh.pop();\n                if (!vbox.count()) {\n                    /* just put it back */\n                    lh.push(vbox);\n                    niters++;\n                    continue;\n                }\n                // do the cut\n                var vboxes = medianCutApply(histo, vbox);\n                var vbox1 = vboxes[0];\n                var vbox2 = vboxes[1];\n                if (!vbox1) {\n                    console.log(\"vbox1 not defined; shouldn't happen!\");\n                    return;\n                }\n                lh.push(vbox1);\n                if (vbox2) {\n                    /* vbox2 can be null */\n                    lh.push(vbox2);\n                    ncolors++;\n                }\n                if (ncolors >= target)\n                    return;\n                if (niters++ > maxIterations) {\n                    console.log('infinite loop; perhaps too few pixels!');\n                    return;\n                }\n            }\n        }\n        // first set of colors, sorted by population\n        iter(pq, fractByPopulations * maxcolors);\n        // console.log(pq.size(), pq.debug().length, pq.debug().slice());\n        // Re-sort by the product of pixel occupancy times the size in color space.\n        var pq2 = new PQueue(function (a, b) {\n            return pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume());\n        });\n        while (pq.size()) {\n            pq2.push(pq.pop());\n        }\n        // next set - generate the median cuts using the (npix * vol) sorting.\n        iter(pq2, maxcolors - pq2.size());\n        // calculate the actual colors\n        var cmap = new CMap();\n        while (pq2.size()) {\n            cmap.push(pq2.pop());\n        }\n        return cmap;\n    }\n    return {\n        quantize: quantize\n    };\n})();\nvar CanvasImage = /** @class */ (function () {\n    function CanvasImage(image) {\n        this.canvas = document.createElement('canvas');\n        this.context = this.canvas.getContext('2d');\n        document.body.appendChild(this.canvas);\n        this.width = this.canvas.width = image.width;\n        this.height = this.canvas.height = image.height;\n        this.context.drawImage(image, 0, 0, this.width, this.height);\n    }\n    CanvasImage.prototype.clear = function () {\n        this.context.clearRect(0, 0, this.width, this.height);\n    };\n    CanvasImage.prototype.update = function (imageData) {\n        this.context.putImageData(imageData, 0, 0);\n    };\n    CanvasImage.prototype.getPixelCount = function () {\n        return this.width * this.height;\n    };\n    CanvasImage.prototype.getImageData = function () {\n        return this.context.getImageData(0, 0, this.width, this.height);\n    };\n    CanvasImage.prototype.removeCanvas = function () {\n        this.canvas.parentNode.removeChild(this.canvas);\n    };\n    return CanvasImage;\n}());\n//# sourceMappingURL=color-thief.js.map\n\n\n// WEBPACK FOOTER //\n// color-thief.js","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 146;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 146\n// module chunks = 4","var map = {\n\t\"../pages/menu-list/menu-list.module.ngfactory\": [\n\t\t233,\n\t\t2\n\t],\n\t\"../pages/menu/menu.module.ngfactory\": [\n\t\t234,\n\t\t3\n\t],\n\t\"../pages/search/search.module.ngfactory\": [\n\t\t235,\n\t\t0\n\t],\n\t\"../pages/track-detail/track-detail.module.ngfactory\": [\n\t\t236,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 170;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 170\n// module chunks = 4","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n /* tslint:disable */\n\n\nimport * as i0 from '@angular/core';\nimport * as i1 from '../../node_modules/ionic-angular/components/nav/nav.ngfactory';\nimport * as i2 from 'ionic-angular/components/split-pane/split-pane';\nimport * as i3 from 'ionic-angular/components/nav/nav';\nimport * as i4 from 'ionic-angular/navigation/view-controller';\nimport * as i5 from 'ionic-angular/navigation/nav-controller';\nimport * as i6 from 'ionic-angular/components/app/app';\nimport * as i7 from 'ionic-angular/config/config';\nimport * as i8 from 'ionic-angular/platform/platform';\nimport * as i9 from 'ionic-angular/gestures/gesture-controller';\nimport * as i10 from 'ionic-angular/transitions/transition-controller';\nimport * as i11 from 'ionic-angular/navigation/deep-linker';\nimport * as i12 from 'ionic-angular/platform/dom-controller';\nimport * as i13 from './app.component';\nimport * as i14 from '@ionic-native/keyboard/index';\nimport * as i15 from '@ionic-native/status-bar/index';\nconst styles_MyApp:any[] = ([] as any[]);\nexport const RenderType_MyApp:i0.RendererType2 = i0.crt({encapsulation:2,styles:styles_MyApp,\n    data:{}});\nexport function View_MyApp_0(_l:any):i0.ViewDefinition {\n  return i0.vid(0,[(_l()(),i0.eld(0,(null as any),(null as any),2,'ion-nav',[['root',\n      'MenuPage']],(null as any),(null as any),(null as any),i1.View_Nav_0,i1.RenderType_Nav)),\n      i0.prd(6144,(null as any),i2.RootNode,(null as any),[i3.Nav]),i0.did(4374528,\n          (null as any),0,i3.Nav,[[2,i4.ViewController],[2,i5.NavController],i6.App,\n              i7.Config,i8.Platform,i0.ElementRef,i0.NgZone,i0.Renderer,i0.ComponentFactoryResolver,\n              i9.GestureController,i10.TransitionController,[2,i11.DeepLinker],i12.DomController,\n              i0.ErrorHandler],{root:[0,'root']},(null as any))],(_ck,_v) => {\n    const currVal_0:any = 'MenuPage';\n    _ck(_v,2,0,currVal_0);\n  },(null as any));\n}\nexport function View_MyApp_Host_0(_l:any):i0.ViewDefinition {\n  return i0.vid(0,[(_l()(),i0.eld(0,(null as any),(null as any),1,'ng-component',\n      ([] as any[]),(null as any),(null as any),(null as any),View_MyApp_0,RenderType_MyApp)),\n      i0.did(49152,(null as any),0,i13.MyApp,[i8.Platform,i14.Keyboard,i15.StatusBar],\n          (null as any),(null as any))],(null as any),(null as any));\n}\nexport const MyAppNgFactory:i0.ComponentFactory<i13.MyApp> = i0.ccf('ng-component',\n    i13.MyApp,View_MyApp_Host_0,{},{},([] as any[]));\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiL1VzZXJzL21oYXJ0aW5ndG9uL0dpdEh1Yi9TdGFyVHJhY2stSW9uaWMvc3JjL2FwcC9hcHAuY29tcG9uZW50Lm5nZmFjdG9yeS50cyIsInZlcnNpb24iOjMsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5nOi8vL1VzZXJzL21oYXJ0aW5ndG9uL0dpdEh1Yi9TdGFyVHJhY2stSW9uaWMvc3JjL2FwcC9hcHAuY29tcG9uZW50LnRzIiwibmc6Ly8vVXNlcnMvbWhhcnRpbmd0b24vR2l0SHViL1N0YXJUcmFjay1Jb25pYy9zcmMvYXBwL2FwcC5jb21wb25lbnQudHMuTXlBcHAuaHRtbCIsIm5nOi8vL1VzZXJzL21oYXJ0aW5ndG9uL0dpdEh1Yi9TdGFyVHJhY2stSW9uaWMvc3JjL2FwcC9hcHAuY29tcG9uZW50LnRzLk15QXBwX0hvc3QuaHRtbCJdLCJzb3VyY2VzQ29udGVudCI6WyIgIiwiPGlvbi1uYXYgcm9vdD1cIk1lbnVQYWdlXCI+PC9pb24tbmF2PiIsIjxuZy1jb21wb25lbnQ+PC9uZy1jb21wb25lbnQ+Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkNBQTtNQUFBO2FBQUEsK0RBQUE7VUFBQTs7NERBQUE7NkJBQUE7SUFBUztJQUFULFdBQVMsU0FBVDs7OztvQkNBQTtNQUFBO2FBQUE7VUFBQTs7OyJ9\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ngfactory.ts","import { Platform } from 'ionic-angular';\nimport { Component } from '@angular/core';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Keyboard } from '@ionic-native/keyboard';\n\n@Component({\n  template: `<ion-nav root=\"MenuPage\"></ion-nav>`\n})\nexport class MyApp {\n  constructor(\n    public plt: Platform,\n    public keyboard: Keyboard,\n    public statusbar: StatusBar\n  ) {\n    this.plt.ready().then(() => {\n      this.keyboard.disableScroll(true);\n      this.keyboard.hideKeyboardAccessoryBar(true);\n      this.statusbar.overlaysWebView(true);\n      this.plt.is('ios')\n        ? this.statusbar.styleDefault()\n        : this.statusbar.styleLightContent();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Platform } from 'ionic-angular';\nimport { Component } from '@angular/core';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Keyboard } from '@ionic-native/keyboard';\nvar MyApp = /** @class */ (function () {\n    function MyApp(plt, keyboard, statusbar) {\n        var _this = this;\n        this.plt = plt;\n        this.keyboard = keyboard;\n        this.statusbar = statusbar;\n        this.plt.ready().then(function () {\n            _this.keyboard.disableScroll(true);\n            _this.keyboard.hideKeyboardAccessoryBar(true);\n            _this.statusbar.overlaysWebView(true);\n            _this.plt.is('ios')\n                ? _this.statusbar.styleDefault()\n                : _this.statusbar.styleLightContent();\n        });\n    }\n    MyApp = __decorate([\n        Component({\n            template: \"<ion-nav root=\\\"MenuPage\\\"></ion-nav>\"\n        }),\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof Platform !== \"undefined\" && Platform) === \"function\" && _a || Object, typeof (_b = typeof Keyboard !== \"undefined\" && Keyboard) === \"function\" && _b || Object, typeof (_c = typeof StatusBar !== \"undefined\" && StatusBar) === \"function\" && _c || Object])\n    ], MyApp);\n    return MyApp;\n    var _a, _b, _c;\n}());\nexport { MyApp };\n//# sourceMappingURL=app.component.js.map\n\n\n// WEBPACK FOOTER //\n// app.component.js","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { IonicApp, IonicModule } from 'ionic-angular';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { MyApp } from './app.component';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { MusicControls } from '@ionic-native/music-controls';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { ColorThiefProvider } from '../providers/color-thief/color-thief';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [MyApp],\n  imports: [\n    HttpClientModule,\n    BrowserModule,\n    IonicModule.forRoot(MyApp, {}, \n{\n  links: [\n    { loadChildren: '../pages/menu-list/menu-list.module.ngfactory#MenuListPageModuleNgFactory', name: 'MenuListPage', segment: 'menu-list', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/menu/menu.module.ngfactory#MenuPageModuleNgFactory', name: 'MenuPage', segment: 'menu', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/search/search.module.ngfactory#SearchPageModuleNgFactory', name: 'SearchPage', segment: 'search', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/track-detail/track-detail.module.ngfactory#TrackDetailPageModuleNgFactory', name: 'TrackDetailPage', segment: 'detail/:id', priority: 'low', defaultHistory: ['SearchPage'] }\n  ]\n}),\n    IonicStorageModule.forRoot({\n      name: '__startTrack'\n    })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [MyApp],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Keyboard,\n    MusicControls,\n    ColorThiefProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/**\n * @fileoverview This file is generated by the Angular template compiler.\n * Do not edit.\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride}\n */\n /* tslint:disable */\n\n\nimport * as i0 from '@angular/core';\nimport * as i1 from './app.module';\nimport * as i2 from 'ionic-angular/components/app/app-root';\nimport * as i3 from '../../node_modules/ionic-angular/components/action-sheet/action-sheet-component.ngfactory';\nimport * as i4 from '../../node_modules/ionic-angular/components/alert/alert-component.ngfactory';\nimport * as i5 from '../../node_modules/ionic-angular/components/app/app-root.ngfactory';\nimport * as i6 from '../../node_modules/ionic-angular/components/loading/loading-component.ngfactory';\nimport * as i7 from '../../node_modules/ionic-angular/components/modal/modal-component.ngfactory';\nimport * as i8 from '../../node_modules/ionic-angular/components/picker/picker-component.ngfactory';\nimport * as i9 from '../../node_modules/ionic-angular/components/popover/popover-component.ngfactory';\nimport * as i10 from '../../node_modules/ionic-angular/components/select/select-popover-component.ngfactory';\nimport * as i11 from '../../node_modules/ionic-angular/components/toast/toast-component.ngfactory';\nimport * as i12 from './app.component.ngfactory';\nimport * as i13 from '@angular/common/http';\nimport * as i14 from '@angular/common';\nimport * as i15 from '@angular/platform-browser';\nimport * as i16 from 'ionic-angular/gestures/gesture-config';\nimport * as i17 from '@angular/forms';\nimport * as i18 from 'ionic-angular/components/action-sheet/action-sheet-controller';\nimport * as i19 from 'ionic-angular/components/app/app';\nimport * as i20 from 'ionic-angular/config/config';\nimport * as i21 from 'ionic-angular/components/alert/alert-controller';\nimport * as i22 from 'ionic-angular/util/events';\nimport * as i23 from 'ionic-angular/util/form';\nimport * as i24 from 'ionic-angular/tap-click/haptic';\nimport * as i25 from 'ionic-angular/platform/platform';\nimport * as i26 from 'ionic-angular/platform/keyboard';\nimport * as i27 from 'ionic-angular/platform/dom-controller';\nimport * as i28 from 'ionic-angular/components/loading/loading-controller';\nimport * as i29 from 'ionic-angular/module';\nimport * as i30 from 'ionic-angular/navigation/url-serializer';\nimport * as i31 from 'ionic-angular/navigation/deep-linker';\nimport * as i32 from 'ionic-angular/util/module-loader';\nimport * as i33 from 'ionic-angular/components/modal/modal-controller';\nimport * as i34 from 'ionic-angular/components/picker/picker-controller';\nimport * as i35 from 'ionic-angular/components/popover/popover-controller';\nimport * as i36 from 'ionic-angular/tap-click/tap-click';\nimport * as i37 from 'ionic-angular/gestures/gesture-controller';\nimport * as i38 from 'ionic-angular/components/toast/toast-controller';\nimport * as i39 from 'ionic-angular/transitions/transition-controller';\nimport * as i40 from '@ionic/storage/es2015/storage';\nimport * as i41 from '@ionic-native/status-bar/index';\nimport * as i42 from '@ionic-native/splash-screen/index';\nimport * as i43 from '@ionic-native/keyboard/index';\nimport * as i44 from '@ionic-native/music-controls/index';\nimport * as i45 from '../providers/color-thief/color-thief';\nimport * as i46 from 'ionic-angular/platform/platform-registry';\nimport * as i47 from 'ionic-angular/components/app/menu-controller';\nimport * as i48 from 'ionic-angular/util/ng-module-loader';\nimport * as i49 from 'ionic-angular/config/mode-registry';\nimport * as i50 from '@ionic/storage/es2015/index';\nimport * as i51 from './app.component';\nexport const AppModuleNgFactory:i0.NgModuleFactory<i1.AppModule> = i0.cmf(i1.AppModule,\n    [i2.IonicApp],(_l:any) => {\n      return i0.mod([i0.mpd(512,i0.ComponentFactoryResolver,i0.CodegenComponentFactoryResolver,\n          [[8,[i3.ActionSheetCmpNgFactory,i4.AlertCmpNgFactory,i5.IonicAppNgFactory,\n              i6.LoadingCmpNgFactory,i7.ModalCmpNgFactory,i8.PickerCmpNgFactory,i9.PopoverCmpNgFactory,\n              i10.SelectPopoverNgFactory,i11.ToastCmpNgFactory,i12.MyAppNgFactory]],\n              [3,i0.ComponentFactoryResolver],i0.NgModuleRef]),i0.mpd(4608,i13.HttpXsrfTokenExtractor,\n          i13.g,[i14.DOCUMENT,i0.PLATFORM_ID,i13.e]),i0.mpd(4608,i13.h,i13.h,\n          [i13.HttpXsrfTokenExtractor,i13.f]),i0.mpd(5120,i13.HTTP_INTERCEPTORS,\n          (p0_0:any) => {\n            return [p0_0];\n          },[i13.h]),i0.mpd(4608,i13.d,i13.d,([] as any[])),i0.mpd(6144,i13.XhrFactory,\n          (null as any),[i13.d]),i0.mpd(4608,i13.HttpXhrBackend,i13.HttpXhrBackend,\n          [i13.XhrFactory]),i0.mpd(6144,i13.HttpBackend,(null as any),[i13.HttpXhrBackend]),\n          i0.mpd(5120,i13.HttpHandler,i13.interceptingHandler,[i13.HttpBackend,[2,\n              i13.HTTP_INTERCEPTORS]]),i0.mpd(4608,i13.HttpClient,i13.HttpClient,\n              [i13.HttpHandler]),i0.mpd(5120,i0.LOCALE_ID,i0.m,[[3,i0.LOCALE_ID]]),\n          i0.mpd(4608,i14.NgLocalization,i14.NgLocaleLocalization,[i0.LOCALE_ID]),\n          i0.mpd(5120,i0.APP_ID,i0.f,([] as any[])),i0.mpd(5120,i0.IterableDiffers,\n              i0.k,([] as any[])),i0.mpd(5120,i0.KeyValueDiffers,i0.l,([] as any[])),\n          i0.mpd(4608,i15.DomSanitizer,i15.e,[i14.DOCUMENT]),i0.mpd(6144,i0.Sanitizer,\n              (null as any),[i15.DomSanitizer]),i0.mpd(4608,i15.HAMMER_GESTURE_CONFIG,\n              i16.IonicGestureConfig,([] as any[])),i0.mpd(5120,i15.EVENT_MANAGER_PLUGINS,\n              (p0_0:any,p1_0:any,p2_0:any,p2_1:any) => {\n                return [new i15.DomEventsPlugin(p0_0),new i15.KeyEventsPlugin(p1_0),\n                    new i15.HammerGesturesPlugin(p2_0,p2_1)];\n              },[i14.DOCUMENT,i14.DOCUMENT,i14.DOCUMENT,i15.HAMMER_GESTURE_CONFIG]),\n          i0.mpd(4608,i15.EventManager,i15.EventManager,[i15.EVENT_MANAGER_PLUGINS,\n              i0.NgZone]),i0.mpd(135680,i15.DomSharedStylesHost,i15.DomSharedStylesHost,\n              [i14.DOCUMENT]),i0.mpd(4608,i15.DomRendererFactory2,i15.DomRendererFactory2,\n              [i15.EventManager,i15.DomSharedStylesHost]),i0.mpd(6144,i0.RendererFactory2,\n              (null as any),[i15.DomRendererFactory2]),i0.mpd(6144,i15.SharedStylesHost,\n              (null as any),[i15.DomSharedStylesHost]),i0.mpd(4608,i0.Testability,\n              i0.Testability,[i0.NgZone]),i0.mpd(4608,i15.Meta,i15.Meta,[i14.DOCUMENT]),\n          i0.mpd(4608,i15.Title,i15.Title,[i14.DOCUMENT]),i0.mpd(4608,i17.i,i17.i,\n              ([] as any[])),i0.mpd(4608,i17.FormBuilder,i17.FormBuilder,([] as any[])),\n          i0.mpd(4608,i18.ActionSheetController,i18.ActionSheetController,[i19.App,\n              i20.Config]),i0.mpd(4608,i21.AlertController,i21.AlertController,[i19.App,\n              i20.Config]),i0.mpd(4608,i22.Events,i22.Events,([] as any[])),i0.mpd(4608,\n              i23.Form,i23.Form,([] as any[])),i0.mpd(4608,i24.Haptic,i24.Haptic,\n              [i25.Platform]),i0.mpd(4608,i26.Keyboard,i26.Keyboard,[i20.Config,i25.Platform,\n              i0.NgZone,i27.DomController]),i0.mpd(4608,i28.LoadingController,i28.LoadingController,\n              [i19.App,i20.Config]),i0.mpd(5120,i14.LocationStrategy,i29.provideLocationStrategy,\n              [i14.PlatformLocation,[2,i14.APP_BASE_HREF],i20.Config]),i0.mpd(4608,\n              i14.Location,i14.Location,[i14.LocationStrategy]),i0.mpd(5120,i30.UrlSerializer,\n              i30.setupUrlSerializer,[i19.App,i30.DeepLinkConfigToken]),i0.mpd(5120,\n              i31.DeepLinker,i31.setupDeepLinker,[i19.App,i30.UrlSerializer,i14.Location,\n                  i32.ModuleLoader,i0.ComponentFactoryResolver]),i0.mpd(4608,i33.ModalController,\n              i33.ModalController,[i19.App,i20.Config,i31.DeepLinker]),i0.mpd(4608,\n              i34.PickerController,i34.PickerController,[i19.App,i20.Config]),i0.mpd(4608,\n              i35.PopoverController,i35.PopoverController,[i19.App,i20.Config,i31.DeepLinker]),\n          i0.mpd(4608,i36.TapClick,i36.TapClick,[i20.Config,i25.Platform,i27.DomController,\n              i19.App,i37.GestureController]),i0.mpd(4608,i38.ToastController,i38.ToastController,\n              [i19.App,i20.Config]),i0.mpd(4608,i39.TransitionController,i39.TransitionController,\n              [i25.Platform,i20.Config]),i0.mpd(5120,i40.Storage,i40.provideStorage,\n              [i40.StorageConfigToken]),i0.mpd(4608,i41.StatusBar,i41.StatusBar,([] as any[])),\n          i0.mpd(4608,i42.SplashScreen,i42.SplashScreen,([] as any[])),i0.mpd(4608,\n              i43.Keyboard,i43.Keyboard,([] as any[])),i0.mpd(4608,i44.MusicControls,\n              i44.MusicControls,([] as any[])),i0.mpd(4608,i45.ColorThiefProvider,\n              i45.ColorThiefProvider,([] as any[])),i0.mpd(512,i13.HttpClientXsrfModule,\n              i13.HttpClientXsrfModule,([] as any[])),i0.mpd(512,i13.HttpClientModule,\n              i13.HttpClientModule,([] as any[])),i0.mpd(512,i14.CommonModule,i14.CommonModule,\n              ([] as any[])),i0.mpd(1024,i0.ErrorHandler,i15.a,([] as any[])),i0.mpd(256,\n              i20.ConfigToken,{},([] as any[])),i0.mpd(1024,i46.PlatformConfigToken,\n              i46.providePlatformConfigs,([] as any[])),i0.mpd(1024,i25.Platform,\n              i25.setupPlatform,[i15.DOCUMENT,i46.PlatformConfigToken,i0.NgZone]),\n          i0.mpd(1024,i20.Config,i20.setupConfig,[i20.ConfigToken,i25.Platform]),\n          i0.mpd(512,i27.DomController,i27.DomController,[i25.Platform]),i0.mpd(512,\n              i47.MenuController,i47.MenuController,([] as any[])),i0.mpd(512,i19.App,\n              i19.App,[i20.Config,i25.Platform,[2,i47.MenuController]]),i0.mpd(512,\n              i37.GestureController,i37.GestureController,[i19.App]),i0.mpd(256,i30.DeepLinkConfigToken,\n              {links:[{loadChildren:'../pages/menu-list/menu-list.module.ngfactory#MenuListPageModuleNgFactory',\n                  name:'MenuListPage',segment:'menu-list',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/menu/menu.module.ngfactory#MenuPageModuleNgFactory',\n                      name:'MenuPage',segment:'menu',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/search/search.module.ngfactory#SearchPageModuleNgFactory',\n                      name:'SearchPage',segment:'search',priority:'low',defaultHistory:([] as any[])},\n                  {loadChildren:'../pages/track-detail/track-detail.module.ngfactory#TrackDetailPageModuleNgFactory',\n                      name:'TrackDetailPage',segment:'detail/:id',priority:'low',defaultHistory:['SearchPage']}]},\n              ([] as any[])),i0.mpd(512,i0.Compiler,i0.Compiler,([] as any[])),i0.mpd(512,\n              i48.NgModuleLoader,i48.NgModuleLoader,[i0.Compiler]),i0.mpd(1024,i32.ModuleLoader,\n              i32.provideModuleLoader,[i48.NgModuleLoader,i0.Injector]),i0.mpd(1024,\n              i0.APP_INITIALIZER,(p0_0:any,p0_1:any,p1_0:any,p2_0:any,p2_1:any,p3_0:any,\n                  p3_1:any,p3_2:any,p3_3:any,p3_4:any,p4_0:any,p4_1:any,p4_2:any,p4_3:any) => {\n                return [i15.c(p0_0,p0_1),i49.registerModeConfigs(p1_0),i22.setupProvideEvents(p2_0,\n                    p2_1),i36.setupTapClick(p3_0,p3_1,p3_2,p3_3,p3_4),i32.setupPreloading(p4_0,\n                    p4_1,p4_2,p4_3)];\n              },[[2,i15.NgProbeToken],[2,i0.NgProbeToken],i20.Config,i25.Platform,\n                  i27.DomController,i20.Config,i25.Platform,i27.DomController,i19.App,\n                  i37.GestureController,i20.Config,i30.DeepLinkConfigToken,i32.ModuleLoader,\n                  i0.NgZone]),i0.mpd(512,i0.ApplicationInitStatus,i0.ApplicationInitStatus,\n              [[2,i0.APP_INITIALIZER]]),i0.mpd(131584,i0.e,i0.e,[i0.NgZone,i0.Console,\n              i0.Injector,i0.ErrorHandler,i0.ComponentFactoryResolver,i0.ApplicationInitStatus]),\n          i0.mpd(2048,i0.ApplicationRef,(null as any),[i0.e]),i0.mpd(512,i0.ApplicationModule,\n              i0.ApplicationModule,[i0.ApplicationRef]),i0.mpd(512,i15.BrowserModule,\n              i15.BrowserModule,[[3,i15.BrowserModule]]),i0.mpd(512,i17.ba,i17.ba,\n              ([] as any[])),i0.mpd(512,i17.FormsModule,i17.FormsModule,([] as any[])),\n          i0.mpd(512,i17.ReactiveFormsModule,i17.ReactiveFormsModule,([] as any[])),\n          i0.mpd(512,i29.IonicModule,i29.IonicModule,([] as any[])),i0.mpd(512,i50.IonicStorageModule,\n              i50.IonicStorageModule,([] as any[])),i0.mpd(512,i1.AppModule,i1.AppModule,\n              ([] as any[])),i0.mpd(256,i13.e,'XSRF-TOKEN',([] as any[])),i0.mpd(256,\n              i13.f,'X-XSRF-TOKEN',([] as any[])),i0.mpd(256,i2.AppRootToken,i51.MyApp,\n              ([] as any[])),i0.mpd(256,i14.APP_BASE_HREF,'/',([] as any[])),i0.mpd(256,\n              i40.StorageConfigToken,{name:'__startTrack'},([] as any[]))]);\n    });\n//# sourceMappingURL=data:application/json;base64,eyJmaWxlIjoiL1VzZXJzL21oYXJ0aW5ndG9uL0dpdEh1Yi9TdGFyVHJhY2stSW9uaWMvc3JjL2FwcC9hcHAubW9kdWxlLm5nZmFjdG9yeS50cyIsInZlcnNpb24iOjMsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5nOi8vL1VzZXJzL21oYXJ0aW5ndG9uL0dpdEh1Yi9TdGFyVHJhY2stSW9uaWMvc3JjL2FwcC9hcHAubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIiAiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsifQ==\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ngfactory.ts","import { platformBrowser } from '@angular/platform-browser';\n\nimport { AppModuleNgFactory } from './app.module.ngfactory';\nimport { enableProdMode } from '@angular/core';\n\nenableProdMode();\nplatformBrowser().bootstrapModuleFactory(AppModuleNgFactory);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts"]}